<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Administração - Ativo e Operante!</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body>
    <header class="bg-blue-500 text-white py-2">
        <h1 class="text-center">Ativo e Operante!</h1>
    </header>

    <main class="max-w-screen-md mx-auto p-4">
        <section id="admin" class="mb-8">
            <h2>Administração</h2>
            <nav>
                <ul class="text-center">
                    <li><a href="#crudOrgaos" class="text-blue-500">Gerenciar Órgãos</a></li>
                    <li><a href="#crudProblemas" class="text-blue-500">Gerenciar Tipos de Problemas</a></li>
                    <li><a href="#listarDenuncias" class="text-blue-500">Listar Denúncias</a></li>
                </ul>
            </nav>
        </section>

        <!-- CRUD Órgãos Section -->
        <section id="crudOrgaos" class="bg-white p-4 rounded shadow mb-4">
            <h2>Gerenciar Órgãos</h2>
            <form onsubmit="criarOrgao(event)" id="orgaoForm" class="mb-4">
                <label for="nomeOrgao" class="block mb-1">Nome do Órgão:</label>
                <input type="text" id="nomeOrgao" name="nomeOrgao" required
                    class="w-full px-4 py-2 border rounded mb-4">
                <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded">Adicionar Órgão</button>
            </form>
            <div id="listaOrgaos">
                <!-- Lista de órgãos será carregada aqui -->
            </div>

            <div id="editOrgaoModal"
                class="hidden fixed inset-0 bg-gray-600 bg-opacity-50 flex justify-center items-center">
                <div class="bg-white p-6 rounded shadow-md">
                    <h2 class="text-2xl mb-4">Alterar Órgão</h2>
                    <input type="hidden" id="editOrgaoId">
                    <label for="editNomeOrgao" class="block text-sm font-medium text-gray-700">Nome do Órgão</label>
                    <input type="text" id="editNomeOrgao" class="block w-full mt-1 p-2 border rounded mb-4"
                        placeholder="Nome do Órgão">
                    <div class="flex justify-end">
                        <button onclick="salvarAlteracaoOrgao(event)"
                            class="bg-green-500 text-white px-4 py-2 rounded mr-2">Salvar</button>
                        <button onclick="fecharModal()"
                            class="bg-red-500 text-white px-4 py-2 rounded">Cancelar</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- CRUD Tipos de Problemas Section -->
        <section id="crudProblemas" class="bg-white p-4 rounded shadow mb-4">
            <h2>Gerenciar Tipos de Problemas</h2>
            <form onsubmit="criarProblema(event)" id="problemaForm" class="mb-4">
                <label for="nomeProblema" class="block mb-1">Tipo de Problema:</label>
                <input type="text" id="nomeProblema" name="nomeProblema" required
                    class="w-full px-4 py-2 border rounded mb-4">
                <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded">Adicionar Problema</button>
            </form>
            <div id="listaProblemas">
                <!-- Lista de tipos de problemas será carregada aqui -->
            </div>

            <div id="editProblemaModal"
                class="hidden fixed inset-0 bg-gray-600 bg-opacity-50 flex justify-center items-center">
                <div class="bg-white p-6 rounded shadow-md">
                    <h2 class="text-2xl mb-4">Alterar Tipo de Problema</h2>
                    <input type="hidden" id="editProblemaId">
                    <label for="editNomeProblema" class="block text-sm font-medium text-gray-700">Tipo de
                        Problema</label>
                    <input type="text" id="editNomeProblema" class="block w-full mt-1 p-2 border rounded mb-4"
                        placeholder="Tipo de Problema">
                    <div class="flex justify-end">
                        <button onclick="salvarAlteracaoProblema(event)"
                            class="bg-green-500 text-white px-4 py-2 rounded mr-2">Salvar</button>
                        <button onclick="fecharModalProblema()"
                            class="bg-red-500 text-white px-4 py-2 rounded">Cancelar</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Listar Denúncias Section -->
        <section id="listarDenuncias" class="bg-white p-4 rounded shadow">
            <h2>Listar Denúncias</h2>
            <div id="denuncias">
                <!-- Lista de denúncias será carregada aqui -->
            </div>
        </section>
    </main>

    <footer class="bg-blue-500 text-white py-2 text-center fixed bottom-0 w-full">
        <p>&copy; 2024 Ativo e Operante!</p>
    </footer>

    <script>

        document.addEventListener("DOMContentLoaded", function () {
            atualizarListaOrgaos()

            atualizarListaTipoProblemas()

            atualizarListaDenuncias()
        })
    </script>
    <script src="./js/script.js"></script>
</body>

</html>